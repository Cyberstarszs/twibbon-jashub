<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TwibbonCraft - Editor Twibbon Jashub</title>

  <meta name="description" content="Jashub Store menyediakan berbagai aplikasi premium seperti Spotify, Canva, CapCut, Netflix, dan lainnya dengan harga murah dan bergaransi.">
  <meta name="keywords" content="jual aplikasi premium, spotify murah, canva pro murah, capcut pro, netflix sharing, beli aplikasi murah, akun premium garansi">
  <meta name="author" content="Jashub Store">
  <meta property="og:title" content="Jashub Store - Aplikasi Premium Murah & Bergaransi">
  <meta property="og:description" content="Belanja aplikasi premium murah hanya di Jashub Store. Bergaransi dan proses cepat!">
  <meta property="og:image" content="logo.webp">
  <meta property="og:url" content="https://jashub.web.id">
  <meta property="og:type" content="website">
  <link rel="icon" type="image/png" href="favicon.png">
  <meta name="theme-color" content="#020617">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Jashub Store">

  <link rel="stylesheet" href="assets/css/style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Montserrat:wght@400;600&display=swap" rel="stylesheet" />

  <script async src="https://www.googletagmanager.com/gtag/js?id=G-JHQ1Y3T4LF"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-JHQ1Y3T4LF');
  </script>
  <script>
    (function(w,d,s,l,i){
      w[l]=w[l]||[];
      w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});
      var f=d.getElementsByTagName(s)[0],
          j=d.createElement(s),
          dl=l!='dataLayer'?'&l='+l:'';
      j.async=true;
      j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;
      f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-5M9V2HKQ');
  </script>
</head>
<body>
  <header class="navbar">
    <div class="container nav-inner">
      <a href="twibbon.html" class="nav-logo">
        <img src="assets/img/logo.png" alt="TwibbonCraft" />
        <span>TwibbonCraft</span>
      </a>
      <nav class="nav-links">
        <a href="twibbon.html">Beranda</a>
        <a href="templates.html">Template</a>
        <a href="editor.html" class="active">Editor</a>
        <a href="about.html">Tentang</a>
      </nav>
      <button class="nav-cta" onclick="window.location.href='index.html'">
        Pesan Layanan
      </button>
      <button class="nav-toggle" id="navToggle" aria-label="Toggle navigation">
        <span></span><span></span><span></span>
      </button>
    </div>
  </header>

  <nav class="nav-mobile" id="navMobile">
    <a href="twibbon.html">Beranda</a>
    <a href="templates.html">Template</a>
    <a href="editor.html" class="active">Editor</a>
    <a href="about.html">Tentang</a>
  </nav>

  <main class="editor-page">
    <section class="editor-wrapper">
      <div class="editor-panel editor-panel-left card-elevated">
        <div class="editor-panel-header">
          <h1>Editor Twibbon</h1>
          <p>Upload foto, pilih twibbon, atur posisi, beri filter, lalu download hasil HD.</p>
        </div>

        <div class="editor-group">
          <h2>1. Upload Foto</h2>
          <p class="group-subtitle">Format: JPG / PNG, resolusi tinggi disarankan.</p>
          <label class="upload-btn">
            <input type="file" id="photoInput" accept="image/*" />
            <span>Upload Foto</span>
          </label>
          <p class="helper-text" id="photoInfo">Belum ada foto yang diupload.</p>
        </div>

        <div class="editor-group" id="upload-template">
          <h2>2. Pilih / Upload Twibbon</h2>
          <p class="group-subtitle">Gunakan template default atau upload overlay milikmu.</p>

          <div class="template-thumbs">
            <button class="template-thumb" data-template="1">
              <img src="assets/img/twibbon-1.png" alt="Template 1" />
            </button>
            <button class="template-thumb" data-template="2">
              <img src="assets/img/twibbon-2.png" alt="Template 2" />
            </button>
            <button class="template-thumb" data-template="3">
              <img src="assets/img/twibbon-3.png" alt="Template 3" />
            </button>
          </div>

          <label class="upload-btn subtle">
            <input type="file" id="templateInput" accept="image/png,image/jpeg" />
            <span>Upload Template Twibbon</span>
          </label>
          <p class="helper-text" id="templateInfo">Menggunakan template default dari sistem.</p>
        </div>

        <div class="editor-group">
          <h2>Upload Twibbon ke Galeri</h2>
          <form id="uploadToGalleryForm">
            <input type="file" id="galleryTemplateInput" accept="image/png,image/jpeg" required />
            <input type="text" id="templateTitle" placeholder="Nama Twibbon" />
            <button type="submit" class="btn secondary small">Upload ke Galeri</button>
          </form>
          <p class="helper-text">Template yang diupload akan disimpan di galeri komunitas.</p>
        </div>
      </div>

      <div class="editor-panel editor-panel-right card-elevated">
        <div class="editor-canvas-header">
          <span>Canvas Preview</span>
          <span class="badge">Drag • Zoom • Rotate • Filter</span>
        </div>
        <div class="editor-canvas-wrapper">
          <canvas id="twibbonCanvas" width="2000" height="2000"></canvas>
          <div class="canvas-hint">
            <p>Tips:</p>
            <ul>
              <li>Gunakan mouse / sentuhan untuk drag foto di dalam frame.</li>
              <li>Gunakan slider untuk zoom dan rotasi.</li>
              <li>Gunakan filter agar foto menyatu dengan desain twibbon.</li>
            </ul>
          </div>
        </div>
      </div>

      <div class="editor-group">
        <h2>3. Atur Posisi Foto</h2>

        <div class="slider-row">
          <div class="slider-label">
            <span>Zoom</span>
            <span id="zoomValue">100%</span>
          </div>
          <input type="range" id="zoomSlider" min="0.05" max="3" step="0.01" value="1" />
        </div>

        <div class="slider-row">
          <div class="slider-label">
            <span>Rotate</span>
            <span id="rotateValue">0°</span>
          </div>
          <input type="range" id="rotateSlider" min="-45" max="45" step="1" value="0" />
        </div>

        <p class="helper-text">
          Gunakan mouse / sentuhan untuk drag foto di dalam area canvas.
        </p>

        <div class="editor-actions">
          <button class="btn ghost small" id="fitToFrame">
            Fit ke Frame
          </button>
          <button class="btn ghost small" id="centerPhoto">
            Pusatkan Foto
          </button>
          <button class="btn ghost small" id="flipHorizontal">
            Balik Horizontal
          </button>
          <button class="btn ghost small" id="resetTransform">
            Reset Posisi
          </button>
        </div>
      </div>

      <div class="editor-group">
        <h2>4. Filter &amp; Penyesuaian</h2>
        <p class="group-subtitle">
          Sesuaikan kecerahan, kontras, warna, dan efek hitam putih agar foto terlihat maksimal.
        </p>

        <div class="slider-row">
          <div class="slider-label">
            <span>Kecerahan</span>
            <span id="brightnessValue">100%</span>
          </div>
          <input type="range" id="brightnessSlider" min="0.4" max="1.8" step="0.01" value="1" />
        </div>

        <div class="slider-row">
          <div class="slider-label">
            <span>Kontras</span>
            <span id="contrastValue">100%</span>
          </div>
          <input type="range" id="contrastSlider" min="0.6" max="1.8" step="0.01" value="1" />
        </div>

        <div class="slider-row">
          <div class="slider-label">
            <span>Saturasi</span>
            <span id="saturateValue">100%</span>
          </div>
          <input type="range" id="saturateSlider" min="0" max="2" step="0.01" value="1" />
        </div>

        <div class="slider-row">
          <div class="slider-label">
            <span>Hitam Putih</span>
            <span id="grayscaleValue">0%</span>
          </div>
          <input type="range" id="grayscaleSlider" min="0" max="1" step="0.01" value="0" />
        </div>

        <div class="filter-presets">
          <button class="btn chip filter-preset active" data-preset="original">
            Original
          </button>
          <button class="btn chip filter-preset" data-preset="soft">
            Soft Glow
          </button>
          <button class="btn chip filter-preset" data-preset="vibrant">
            Vibrant
          </button>
          <button class="btn chip filter-preset" data-preset="mono">
            B/W Classic
          </button>
        </div>
      </div>

      <div class="editor-group">
        <h2>5. Download Hasil (HD)</h2>
        <div class="download-row">
          <label for="downloadFormat">Format:</label>
          <select id="downloadFormat">
            <option value="png">PNG (disarankan, kualitas tinggi)</option>
            <option value="jpeg">JPG</option>
          </select>
        </div>
        <button class="btn primary full-width" id="downloadBtn">
          Download Twibbon
        </button>
        <p class="helper-text">
          Hasil akan di-render dalam resolusi tinggi dari canvas 2000x2000 tanpa watermark.
        </p>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="container footer-grid">
      <div class="footer-brand">
        <h3>Jashub Store</h3>
        <p>
          Penyedia aplikasi premium berkualitas dengan harga terjangkau. Dapatkan pengalaman terbaik menggunakan aplikasi favorit Anda.
        </p>
      </div>
      <div class="footer-column">
        <h4>Produk</h4>
        <ul>
          <li><a href="#">Video Editor</a></li>
          <li><a href="#">Music &amp; Audio</a></li>
          <li><a href="#">Design Tools</a></li>
          <li><a href="#">Utility Apps</a></li>
          <li><a href="#">Semua Produk</a></li>
        </ul>
      </div>
      <div class="footer-column">
        <h4>Bantuan</h4>
        <ul>
          <li><a href="#">Cara Pembelian</a></li>
          <li><a href="#">Panduan Login</a></li>
          <li><a href="#">FAQ</a></li>
          <li><a href="#">Syarat &amp; Ketentuan</a></li>
          <li><a href="#">Kebijakan Privasi</a></li>
        </ul>
      </div>
      <div class="footer-column">
        <h4>Kontak</h4>
        <ul>
          <li><a href="https://jashub.web.id" target="_blank" rel="noopener noreferrer">jashub.web.id</a></li>
          <li><a href="mailto:jashubpremium@gmail.com">jashubpremium@gmail.com</a></li>
          <li><a href="https://wa.me/6287759808899" target="_blank" rel="noopener noreferrer">+62 877 5980 8899</a></li>
        </ul>
      </div>
    </div>
    <div class="footer-bottom">
      <div class="container footer-bottom-inner">
        <p>© <span id="year"></span> Jashub Store. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <script src="assets/js/main.js"></script>
  <script src="assets/js/editor.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      var form = document.getElementById("uploadToGalleryForm");
      if (!form) return;
      form.addEventListener("submit", function (e) {
        e.preventDefault();
        var fileInput = document.getElementById("galleryTemplateInput");
        var titleInput = document.getElementById("templateTitle");
        if (!fileInput.files || !fileInput.files[0]) {
          alert("Pilih file terlebih dahulu");
          return;
        }
        var formData = new FormData();
        formData.append("file", fileInput.files[0]);
        if (titleInput.value) {
          formData.append("title", titleInput.value);
        }
        fetch("/api/templates", {
          method: "POST",
          body: formData
        })
          .then(function (res) { return res.json(); })
          .then(function (data) {
            if (data && data.ok && data.id) {
              alert("Template berhasil diupload ke galeri");
            } else if (data && data.error) {
              alert("Upload gagal: " + data.error);
            } else {
              alert("Upload gagal: respons server tidak valid");
            }
          })
          .catch(function () {
            alert("Gagal upload template ke galeri");
          });
      });
    });
  </script>
</body>
</html>
