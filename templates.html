<script>
  document.addEventListener("DOMContentLoaded", function () {
    var grid = document.querySelector(".templates-grid");
    if (!grid) return;

    fetch("/api/templates")
      .then(function (res) {
        return res.json();
      })
      .then(function (templates) {
        if (!Array.isArray(templates)) return;
        templates.forEach(function (tpl) {
          var card = document.createElement("article");
          card.className = "twibbon-card card-elevated";
          card.innerHTML =
            '<div class="twibbon-thumb">' +
            '<img src="' +
            tpl.imageUrl +
            '" alt="' +
            tpl.title +
            '" />' +
            "</div>" +
            '<div class="twibbon-body">' +
            "<h3>" +
            tpl.title +
            "</h3>" +
            '<p>Template komunitas</p>' +
            '<button class="btn secondary" onclick="window.location.href=\'editor.html?templateId=' +
            tpl.id +
            '\'">Gunakan Template</button>' +
            "</div>";
          grid.appendChild(card);
        });
      })
      .catch(function () {});
  });
</script>
